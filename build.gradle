plugins {
    id 'eclipse'
    id 'java-library'
}

repositories {
    mavenCentral()
    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
}

sourceCompatibility = 19
targetCompatibility = 19

dependencies {
    implementation 'com.google.code.gson:gson:2.10.1'
}

group = 'com.tsunderebug'
version = '1.0-SNAPSHOT'
description = 'Speedrun4J'

jar {
	duplicatesStrategy = DuplicatesStrategy.EXCLUDE
	manifest {
		attributes(
			'Class-Path': configurations.runtimeClasspath.collect { it.getName() }.join(' '),
			'Multi-Release': 'true'
		)
	}
	from {
		configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
	} {
		exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
	}
}
